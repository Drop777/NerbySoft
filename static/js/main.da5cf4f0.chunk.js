(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{70:function(e,t,r){e.exports=r(85)},79:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){},83:function(e,t,r){},85:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(7),s=r.n(o),i=r(20),c=r(8),l=r(15),u=r(44);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g="REGISTER_USER",h="LOGIN_USER",p="ADD_TODO",f="DELETE_TODO",E="ADD_EDIT_TEXT",v="SELECT_TODO",b="SHARE_TODO",y="UNSELECT_TODO",O="LOGIN",T="LOGOUT",w=localStorage["redux-store"]?JSON.parse(localStorage["redux-store"]):{users:[],currentUser:{},isLogged:!1},L=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(console.log(e),console.log(t),t.type){case g:return m({},e,{users:[].concat(Object(c.a)(e.users),[t.payload])});case h:return m({},e,{currentUser:e.users.find((function(e){return e.login===t.payload.userLogin&&e.password===t.payload.userPassword}))});case p:return m({},e,{currentUser:m({},e.currentUser,{todos:[].concat(Object(c.a)(e.currentUser.todos),[t.payload])}),users:Object(c.a)(e.users).map((function(r){return r.name===e.currentUser.name&&(r.todos=[].concat(Object(c.a)(r.todos),[t.payload])),r}))});case f:return m({},e,{currentUser:m({},e.currentUser,{todos:Object(c.a)(e.currentUser.todos).filter((function(e){return e.id!==t.payload}))}),users:Object(c.a)(e.users).map((function(r){return r.name===e.currentUser.name&&(r.todos=Object(c.a)(r.todos).filter((function(e){return e.id!==t.payload}))),r}))});case E:return m({},e,{currentUser:m({},e.currentUser,{todos:Object(c.a)(e.currentUser.todos).map((function(e){return e.id===t.payload.id&&(e.todoTitle=t.payload.editedText),e}))})});case v:return m({},e,{currentUser:m({},e.currentUser,{todos:Object(c.a)(e.currentUser.todos).map((function(e){return e.id===t.payload.id&&(e.selected=t.payload.checked),e}))})});case y:return m({},e,{currentUser:m({},e.currentUser,{todos:Object(c.a)(e.currentUser.todos).map((function(e){return m({},e,{selected:!1})}))}),users:Object(c.a)(e.users).map((function(t){return t.name===e.currentUser.name?m({},t,{todos:Object(c.a)(t.todos).map((function(e){return m({},e,{selected:!1})}))}):t}))});case b:return m({},e,{users:Object(c.a)(e.users).map((function(e){return e.login===t.payload.login&&(e.todos=[].concat(Object(c.a)(e.todos),Object(c.a)(t.payload.preperedTodo))),e}))});case O:return m({},e,{isLogged:!0});case T:return m({},e,{isLogged:!1});default:return e}}));L.subscribe((function(){localStorage["redux-store"]=JSON.stringify(L.getState())}));var j=L,S=(r(79),r(17)),N=r(14),C=r(22),D=r(23),P=r(24),x=r(41),U=r(33),k=(r(80),r(81),r(134)),_=r(124),R=function(e){function t(){var e,r;Object(S.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(C.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(a)))).state={userName:"",userLogin:"",userPassword:"",userNameError:!1,userLoginError:!1,isExist:!1,userPasswordError:!1},r.handeleChangeName=function(e){var t=e.target;console.log(t.value),r.setState({userName:t.value.trimRight()})},r.handeleChangeLogin=function(e){e.preventDefault();var t=e.target;console.log(t.value),r.setState({userLogin:t.value.trimRight()})},r.handeleChangePasword=function(e){var t=e.target;console.log(t.value),r.setState({userPassword:t.value.trimRight()})},r.handleSubmit=function(e){e.preventDefault();var t=r.state,n=t.userLogin,a=t.userPassword,o=t.userName,s=r.props,i=s.register,c=s.users;if(""===o&&""===n&&""===a)r.setState({userNameError:!0,userLoginError:!0,userPasswordError:!0});else if(""===n)r.setState({userLoginError:!0});else if(""===a)r.setState({userPasswordError:!0});else if(c.find((function(e){return e.login===n})))r.setState({isExist:!0});else{var l=r.props.history;r.setState({userName:"",userLogin:"",userPassword:"",userNameError:!1,userLoginError:!1,isExist:!1,userPasswordError:!1}),i(n,a,o),l.push("/login")}},r}return Object(P.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.userLogin,n=t.userPassword,o=t.userName,s=t.userNameError,i=t.userLoginError,c=t.userPasswordError,l=t.isExist;return a.a.createElement("div",{className:"container"},a.a.createElement("p",{className:"form-title"},"Registration"),a.a.createElement("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement("div",{className:"form-input"},a.a.createElement(k.a,{error:s,id:"outlined-name",label:"Name",value:o,onChange:this.handeleChangeName,margin:"normal",variant:"outlined"}),a.a.createElement(k.a,{error:i,id:"outlined-name",label:"Login",value:r,onChange:this.handeleChangeLogin,margin:"normal",variant:"outlined"}),l&&a.a.createElement("small",null,"Yze est"),a.a.createElement(k.a,{error:c,id:"outlined-name",label:"Password",type:"password",value:n,onChange:this.handeleChangePasword,margin:"normal",variant:"outlined"}),a.a.createElement(_.a,{variant:"contained",type:"submit",color:"primary",className:"submit-button",style:{marginTop:10}},"Register"))))}}]),t}(a.a.Component),I=Object(i.b)((function(e){return{users:e.users}}),(function(e){return{register:function(t,r,n){return e(function(e,t,r){return{type:"REGISTER_USER",payload:m({},{name:r,login:e,password:t,todos:[]})}}(t,r,n))}}}))(R),A=function(e){function t(){var e,r;Object(S.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(C.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(a)))).state={userLogin:"",userPassword:"",userLoginError:!1,userPasswordError:!1},r.handeleChangeLogin=function(e){e.preventDefault();var t=e.target;console.log(t.value),r.setState({userLogin:t.value.trimRight()})},r.handeleChangePasword=function(e){var t=e.target;console.log(t.value),r.setState({userPassword:t.value.trimRight()})},r.handleSubmit=function(e){e.preventDefault();var t=r.state,n=t.userPassword,a=t.userLogin,o=r.props,s=o.users,i=o.login,c=void 0===s.find((function(e){return e.login===a}))?void 0:s.find((function(e){return e.login===a})).login,l=void 0===s.find((function(e){return e.login===c&&e.password===n}))?void 0:s.find((function(e){return e.login===c&&e.password===n})).password;if(void 0===c)r.setState({userLoginError:!0});else if(void 0===l)r.setState({userLoginError:!1,userPasswordError:!0});else{var u=r.props,d=u.match.history,m=u.handleLogin;console.log(d),d.push("/user/".concat(c)),r.setState({userLogin:"",userPassword:"",userLoginError:!1,userPasswordError:!1}),i(c,l),m()}},r}return Object(P.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.userLogin,n=t.userPassword,o=t.userLoginError,s=t.userPasswordError;return a.a.createElement("div",{className:"container"},a.a.createElement("p",{className:"form-title"},"Login"),a.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement("div",{className:"form-input"},o&&a.a.createElement("small",null,"User not found"),s&&a.a.createElement("small",null,"Incorrect password"),a.a.createElement(k.a,{id:"outlined-name",label:"Login",value:r,onChange:this.handeleChangeLogin,margin:"normal",variant:"outlined"}),a.a.createElement(k.a,{type:"password",id:"outlined-name",label:"Password",value:n,onChange:this.handeleChangePasword,margin:"normal",variant:"outlined"}),a.a.createElement(_.a,{variant:"contained",type:"submit",color:"primary",className:"submit-button",style:{marginTop:10}},"Login"))))}}]),t}(a.a.Component),G=Object(i.b)((function(e){return{users:e.users}}),(function(e){return{handleLogin:function(){return e({type:"LOGIN"})},login:function(t,r){return e({type:"LOGIN_USER",payload:{userLogin:t,userPassword:r}})}}}))(A),F=(r(82),r(83),r(62)),W=r(125),B=r(133),J=function(e){function t(){var e,r;Object(S.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(C.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(a)))).state={editedText:"",isEditing:!1},r.handleEditedText=function(e){var t=e.target.value;r.setState({editedText:t.replace(/^\s+/,"")})},r.activateEditing=function(e){r.setState((function(t){var r=t.isEditing;return{editedText:e,isEditing:!r}}))},r.addNewText=function(e){e.preventDefault();var t=r.props,n=t.editTextTodo,a=t.todo.id,o=r.state.editedText;r.setState((function(e){return{isEditing:!e.isEditing}})),n(o,a)},r.handelCheck=function(e){console.log(e);var t=r.props,n=t.todo,a=t.selectTodo,o=e.target;a(n.id,o.checked)},r}return Object(P.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.todo,n=t.deleteTodo,o=t.selected,s=this.state,i=s.isEditing,c=s.editedText,l={},u={margin:0,minWidth:500,maxWidth:750};return console.log(r),i?l.display="none":u.display="none",a.a.createElement("li",null,a.a.createElement(F.a,{style:l,className:"list-item-form"},a.a.createElement(B.a,{checked:o,onChange:function(t){return e.handelCheck(t,r.id)},value:"checkedB",color:"primary",inputProps:{"aria-label":"secondary checkbox"}}),a.a.createElement(W.a,{variant:"h5",component:"h3",onDoubleClick:function(){return e.activateEditing(r.todoTitle)}},r.todoTitle),a.a.createElement(_.a,{variant:"contained",color:"secondary",onClick:function(){return n(r.id)}},"Delete")),a.a.createElement("form",{onSubmit:function(t){return e.addNewText(t)}},a.a.createElement(k.a,{style:u,id:"standard-name",label:"Edit",value:c,onChange:function(t){return e.handleEditedText(t)},margin:"normal"})))}}]),t}(a.a.Component),H=Object(i.b)(null,(function(e){return{deleteTodo:function(t){return e(function(e){return{type:"DELETE_TODO",payload:e}}(t))},editTextTodo:function(t,r){return e(function(e,t){return{type:"ADD_EDIT_TEXT",payload:{id:t,editedText:e}}}(t,r))},selectTodo:function(t,r){return e(function(e,t){return{type:"SELECT_TODO",payload:{id:e,checked:t}}}(t,r))}}}))(J),X=r(135),z=r(126),M=r(127),Y=r(129),Z=r(128),$=r(123),q=r(132),K=function(e){function t(){var e,r;Object(S.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(C.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(a)))).state={todo:"",currentIndex:0,hasError:!1,userLoginForshare:""},r.handleChange=function(e){var t=e.target.value;r.setState({todo:t.trimLeft()})},r.handleSubmit=function(e){e.preventDefault();var t=r.state,n=t.todo,a=t.currentIndex,o=r.props.addTodo;if(""===n)r.setState({hasError:!0});else{var s={todoTitle:n,id:a+Math.random(),selected:!1};r.setState((function(e){return{todo:"",currentIndex:e.currentIndex+1,hasError:!1}})),o(s)}},r.handeleSelect=function(e){var t=e.target.value;r.setState({userLoginForshare:t})},r.share=function(){var e=r.state.userLoginForshare,t=r.props,n=t.currentUser,a=t.shareTodo,o=t.unselectTodo,s=Object(c.a)(n.todos).filter((function(e){return!0===e.selected}));console.log(s),a(e,s,n.login),o()},r}return Object(P.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.todo,n=t.hasError,o=t.userLoginForshare,s=this.props,i=s.currentUser,l=s.users;console.log(r),console.log(i);var u=Object(c.a)(l).filter((function(e){return e.login!==i.login})),d={};return i.todos.some((function(e){return!0===e.selected}))?d={display:"flex",justifyContent:"space-evenly",maxWidth:600,marginLeft:"auto",marginRight:"auto"}:d.display="none",a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"user-card"},a.a.createElement(z.a,null,a.a.createElement(M.a,null,a.a.createElement(Z.a,{container:!0,justify:"center",alignItems:"center"},a.a.createElement(Y.a,{alt:"me",src:"https://66.media.tumblr.com/baea33b98e5aa66abd0e5da888d06c44/tumblr_pkw4y0EZTh1uk7v3v_540.jpg",style:{margin:10,width:200,height:200}})),a.a.createElement(W.a,{color:"textSecondary",gutterBottom:!0},"Name: ",i.name),a.a.createElement(W.a,{color:"textSecondary"},"Login: ",i.login)))),a.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"add-task-form"},a.a.createElement(k.a,{style:{margin:0},id:"standard-name",label:"Task",value:r,onChange:this.handleChange,margin:"normal"}),a.a.createElement(_.a,{variant:"contained",color:"primary",type:"submit"},"Add"),n&&a.a.createElement("smal",null,"Enter task")),a.a.createElement("ul",null,i.todos.map((function(e){return a.a.createElement(H,{key:e.id,todo:e,selected:e.selected})}))),a.a.createElement("div",{style:d},a.a.createElement("span",null,"Choose whom to share"),a.a.createElement($.a,{style:{width:150}},a.a.createElement(q.a,{value:o,onChange:this.handeleSelect},u.map((function(e){return a.a.createElement(X.a,{value:e.login},e.login)})))),a.a.createElement(_.a,{variant:"contained",color:"primary",disabled:!o,onClick:this.share},"Share")))}}]),t}(a.a.Component),Q=Object(i.b)((function(e){return{currentUser:e.currentUser,users:e.users}}),(function(e){return{addTodo:function(t){return e(function(e){return{type:"ADD_TODO",payload:e}}(t))},shareTodo:function(t,r,n){return e(function(e,t,r){return{type:"SHARE_TODO",payload:{login:e,preperedTodo:t.map((function(e){return m({},e,{todoTitle:e.todoTitle+" shared from "+r,selected:!1})}))}}}(t,r,n))},unselectTodo:function(){return e({type:"UNSELECT_TODO"})}}}))(K),V=r(130),ee=r(131),te=function(e){function t(){return Object(S.a)(this,t),Object(C.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handelLogin,r=e.handleLogout,n=e.isLogged;return a.a.createElement(x.a,null,a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("div",null,a.a.createElement(V.a,{position:"static"},a.a.createElement(ee.a,{className:"nav-bar"},a.a.createElement(W.a,{variant:"h6"},"Task manager"),!n&&a.a.createElement("div",null,a.a.createElement(x.b,{to:"/login",style:{textDecoration:"none",color:"white"}},a.a.createElement(_.a,{color:"inherit"},"Login")),a.a.createElement(x.b,{to:"/registration",style:{textDecoration:"none",color:"white"}},a.a.createElement(_.a,{color:"inherit"},"Registration"))),n&&a.a.createElement("div",null,a.a.createElement(x.b,{to:"/login",style:{textDecoration:"none",color:"white"},onClick:r},a.a.createElement(_.a,{color:"inherit"},"Logout"))))))),a.a.createElement("main",null,a.a.createElement(U.c,null,a.a.createElement(U.a,{path:"/login",render:function(e){return a.a.createElement(G,{match:e,handelLogin:t})}}),a.a.createElement(U.a,{path:"/registration",component:I})),a.a.createElement(U.a,{path:"/user/:login",component:Q})),a.a.createElement("footer",{className:"App-footer"})))}}]),t}(a.a.Component),re=Object(i.b)((function(e){return{isLogged:e.isLogged}}),(function(e){return{handleLogout:function(){return e({type:"LOGOUT"})}}}))(te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(i.a,{store:j},a.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[70,1,2]]]);
//# sourceMappingURL=main.da5cf4f0.chunk.js.map